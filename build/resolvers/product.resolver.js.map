{"version":3,"sources":["../../src/resolvers/product.resolver.js"],"names":["module","exports","Query","products","Models","Product","find","productsFilter","parent","args","regex","RegExp","value","$and","$or","Title","Description","product","findById","id","Mutation","createProduct","newProduct","Price","Url","save","deleteProduct","findByIdAndDelete","updateProduct","context","findByIdAndUpdate","_id","console","log"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;AACAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE,oBAAM;AACd,aAAOC,MAAM,CAACC,OAAP,CAAeC,IAAf,EAAP;AACD,KAHI;AAILC,IAAAA,cAAc,EAAE,wBAACC,MAAD,EAASC,IAAT,EAAkB;AAChC,UAAIC,KAAK,GAAG,IAAIC,MAAJ,CAAWF,IAAI,CAACG,KAAhB,EAAuB,GAAvB,CAAZ;AACA,aAAOR,MAAM,CAACC,OAAP,CAAeC,IAAf,CAAoB;AACzBO,QAAAA,IAAI,EAAE,CAAC;AAAEC,UAAAA,GAAG,EAAE,CAAC;AAAEC,YAAAA,KAAK,EAAEL;AAAT,WAAD,EAAmB;AAAEM,YAAAA,WAAW,EAAEN;AAAf,WAAnB;AAAP,SAAD;AADmB,OAApB,CAAP;AAGD,KATI;AAULO,IAAAA,OAAO,EAAE,iBAACT,MAAD,EAASC,IAAT,EAAkB;AACzB,aAAOL,MAAM,CAACC,OAAP,CAAea,QAAf,CAAwBT,IAAI,CAACU,EAA7B,CAAP;AACD;AAZI,GADQ;AAefC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,aAAa,EAAE,uBAACb,MAAD,EAASC,IAAT,EAAkB;AAC/B,UAAMa,UAAU,GAAG,IAAIlB,MAAM,CAACC,OAAX,CAAmB;AACpCU,QAAAA,KAAK,EAAEN,IAAI,CAACM,KADwB;AAEpCQ,QAAAA,KAAK,EAAEd,IAAI,CAACc,KAFwB;AAGpCC,QAAAA,GAAG,EAAEf,IAAI,CAACe,GAH0B;AAIpCR,QAAAA,WAAW,EAAEP,IAAI,CAACO;AAJkB,OAAnB,CAAnB;AAMA,aAAOM,UAAU,CAACG,IAAX,EAAP;AACD,KATO;AAURC,IAAAA,aAAa,EAAE,uBAAClB,MAAD,EAASC,IAAT,EAAkB;AAC/B,aAAOL,MAAM,CAACC,OAAP,CAAesB,iBAAf,CAAiClB,IAAI,CAACU,EAAtC,CAAP;AACD,KAZO;AAaRS,IAAAA,aAAa;AAAA,mFAAE,iBAAOpB,MAAP,EAAeC,IAAf,EAAqBoB,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEWzB,MAAM,CAACC,OAAP,CAAeyB,iBAAf,CACpB;AAAEC,kBAAAA,GAAG,EAAEtB,IAAI,CAACU;AAAZ,iBADoB,EAEpB;AACEJ,kBAAAA,KAAK,EAAEN,IAAI,CAACM,KADd;AAEEQ,kBAAAA,KAAK,EAAEd,IAAI,CAACc,KAFd;AAGEP,kBAAAA,WAAW,EAAEP,IAAI,CAACO,WAHpB;AAIEQ,kBAAAA,GAAG,EAAEf,IAAI,CAACe;AAJZ,iBAFoB,CAFX;;AAAA;AAELnB,gBAAAA,OAFK;AAAA,iDAWJA,OAXI;;AAAA;AAAA;AAAA;AAaX2B,gBAAAA,OAAO,CAACC,GAAR;;AAbW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAbL;AAfK,CAAjB","sourcesContent":["import * as Models from \"../models\";\nmodule.exports = {\n  Query: {\n    products: () => {\n      return Models.Product.find();\n    },\n    productsFilter: (parent, args) => {\n      let regex = new RegExp(args.value, \"i\");\n      return Models.Product.find({\n        $and: [{ $or: [{ Title: regex }, { Description: regex }] }],\n      });\n    },\n    product: (parent, args) => {\n      return Models.Product.findById(args.id);\n    },\n  },\n  Mutation: {\n    createProduct: (parent, args) => {\n      const newProduct = new Models.Product({\n        Title: args.Title,\n        Price: args.Price,\n        Url: args.Url,\n        Description: args.Description,\n      });\n      return newProduct.save();\n    },\n    deleteProduct: (parent, args) => {\n      return Models.Product.findByIdAndDelete(args.id);\n    },\n    updateProduct: async (parent, args, context) => {\n      try {\n        const Product = await Models.Product.findByIdAndUpdate(\n          { _id: args.id },\n          {\n            Title: args.Title,\n            Price: args.Price,\n            Description: args.Description,\n            Url: args.Url,\n          }\n        );\n        return Product;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n};\n"],"file":"product.resolver.js"}